import os,requests,json,random,urllib.parse,re,hashlib,time,uuid,http.cookiejar,threading

createSign = lambda param: hashlib.md5(('nJi9o;/' + param).encode("utf8")).hexdigest()
requestId = lambda: str(uuid.uuid1()) + str(int(round(time.time() * 1000)))

xAuthTokenList = [
'eb510b2c-faba-4632-95b9-f47917041c2b',
'17685cba-e990-4ecb-beaa-3a25cc468db3',
'aa989339-62d1-47dc-bde6-808e4987a306',
'83126205-0f87-45ab-96c8-8bc82c90e329',
'ce84b00a-e264-49ea-9e28-e1d2e6ea3e15',
'92f677f5-04ce-474d-93e0-1cc1fca61e5a',
'0f97747e-ea20-48c5-a78c-15dd933081ed',
'4a4c0b14-2a0c-4296-87b5-473b51e56bf2',
'fe9002ee-00ae-460f-af73-8722cab9d725',
'cb38d980-8acb-4f83-a030-15eac7160285',
'755eabc2-07d6-41f4-85f0-09da4a3b6610',
'ab656d9c-9648-4c07-aff4-e7f6a78d6c71',
'9d4ed733-cfe2-4cc1-a5b5-ca83d7d7226f',
'7c0eb7d4-856d-4930-b4dc-7d70c67baefc',
'73e4bc20-29b5-4b28-8d30-91f67f61a692',
'f1c89c6d-e9b6-417f-98b0-8b1afa72ee74',
'251836f1-f95d-4018-af2b-f9ff7428e5e8',
'32bd23ae-85ae-475f-853b-ed4a64bc8b51',
'6c4d9868-6f2c-47bf-b1ed-4e614558e3df',
'23803d2e-5056-482a-a9bc-70be7c57669d',
'e4b4d72f-8205-4e38-b970-57426398a739',
'7b824a64-f040-457e-868a-101eb9dc0f91',
'2e2eeeb6-bfa0-44f0-a28b-c1e68c42ad86',
'4a7d278e-9e68-4407-b987-fbc77c198a07',
'ab8a26d4-8d12-44fe-b80a-59479505b599',
'4c15a18b-092d-46ec-9cbe-7885c20321ec',
'bcd37c29-ee96-4a3d-a31d-92447b5f6638',
'aea7fb70-e59d-4be4-b2ed-5f7c06502c8f',
'a16a0dd6-bd5f-4080-9bc0-a08c6e682c63',
'afc59dd1-9604-4108-a3aa-0274701b7073',
'0e0e1e8f-7cf0-4aca-bd5f-8e5d7429f093',
'd94becb8-3ebd-4186-ad74-9899e63f8bce',
'48df5f0d-07ae-404c-a0a9-556d57f7a3c2',
'52a19556-c413-4e12-8c59-fda55ce70462',
'ef790071-c0ad-4c3c-bffe-b4462d6c07db',
'd35db64f-6797-4285-8116-7ad9c0e7f606',
'0d60a45b-48eb-4ca3-8734-60fd490560f8',
'6653393c-0a64-4084-932f-4e44b428423f',
'4d0c01e6-5e55-4e52-99d2-1b141f7489c4',
'c8895666-b54d-44bf-889f-bc0cec7c794d',
'89368162-84dd-47a6-b5c5-ba802b5979c1',
'9d40f8a9-9d33-40c0-8d20-7276e463f54b',
'8e1f0c6f-f5dc-4418-8277-20b9b9e7fe79',
'd1af22ef-6363-4cea-8f18-78da6defc431',
'2c0e9f16-5976-42ee-844c-9aeff3230455',
'2eff0a1d-f6fe-4076-8d6b-726a6f65cac9',
'64727f71-c290-4120-9821-8ea88244c4e6',
'6e144aa7-0e40-4208-9e09-758992e43342',
'7fee4a76-8bc0-4f47-8311-926678f60c29',
'2633cd6d-d886-4617-bf2c-5126ac4a413c',
'43ee43c4-a88f-494c-bb5b-d6cfc7d7b41c',
'49734deb-0281-4d8b-b861-79b63bd7997f',
'466e3702-795c-46af-bef7-c2bbdefeb562',
'b0abcd6b-c80a-4743-8e26-08b75fc2270d',
'96e2f4aa-a720-4348-9e53-feefce62c03e',
'8d36348f-0901-4e2e-92a9-8fa0c7bcc9d2',
'83be6082-53ea-4cf9-bf9b-4724c411ebef',
'64584e3c-9097-46e0-b357-875df510d90e',
'daa94c5b-33dc-49f5-b988-90620f5f8b09',
'be1fdda7-4cd1-4aa4-af5b-ce8afbeaac62',
'd19fff6e-8bbe-4261-a67b-9407a2fdccfc',
'3e47c2e0-ef8f-4f15-9947-1c3dbd3b01c6',
'8d174631-209f-4b74-b90e-dc142ab31ca4',
'af642bae-2f29-49d7-adf0-039e37123c5b',
'd174a450-6ebd-4941-88bc-4f44e41c2ccc',
'0df0ff59-d9dc-43be-9521-6a6dcae36890',
'7975ce12-9c27-4afb-bdb2-d558542ee222',
'34ef19da-fa09-4a93-afd4-a54f85e993f2',
'dc413318-71af-4027-a526-dbc04e4cb4fc',
'11dd6e0e-3969-413a-9f28-76630a5a2569',
'342d2542-75ac-4802-a519-61b1f1095383',
'654b4208-e576-4c1b-ad66-4b0d19092522',
'b9a2167a-e7ff-4bd6-a150-14bf6a0ff2bd',
'dfeac27b-0c53-4e6e-99db-6ee45561c5ae',
'3057d7c3-09a7-440b-920c-c9faf6527e54',
'e0a46127-4e5b-4e19-a6cc-ed0b06d1bf0d',
'f715af34-92a2-4653-be5f-bb01cdd6a42c',
'04ad7a33-3641-4100-beff-267c530775ca',
'f2f7925c-a756-4bca-8262-944a7da3d00c',
'400934a6-d30d-4bca-b252-a32a879fa5fd',
'aae62efa-7898-4d30-a761-1a1f2035b40d',
'010cafb8-435c-44d1-8fca-27936308788b',
'3690e5cc-a641-4503-8011-93a8a8eb18fa',
'157e9721-3d3d-436a-a162-9bad4c6efa46',
'96d2a5b2-8ef1-4a83-8083-af4f71b5ea5f',
'f4c1174a-0b2f-47c8-b693-b38ca78e3c69',
'099c9143-cc19-4cc0-9bb8-991b6078631f',
'ff3ad61a-56db-4816-952c-a5405466ec52',
'50d2579b-023a-4fd4-b65f-f9484184920b',
'8511cb6c-23fd-4804-8a5b-51d1fb0fec01',
'3c96de36-4247-4f23-8f35-efc94132e1b5',
'34374111-7296-4264-b881-3f94a43d08c6',
'b129ddf1-49a6-42e8-b8f1-4cb99d968086',
'db235936-2d18-4796-92f6-1dc5f4e980fd',
'f6be4ff9-bb96-4136-bf8a-20bddebfcbb0',
'806b47a6-27ae-4e32-8355-d8642ef62fed',
'58683270-986a-4e3e-bfa5-3b6e59d2c1e7',
'a127f536-1ba4-4cfd-8e69-1154d6c2ed9a',
'9848196f-4b7d-4f0f-bd94-af0b2d814f46',
'86937ac6-3848-4fd5-8cde-b5536672beba',
'db21c3e0-4298-48a7-80d1-538a014ed63b',
'75dda240-0b61-4bca-8420-2cd986807461',
'bf7251d2-d1e5-4412-94de-99bc99501bde',
'0f5a5c01-15d8-404e-b086-b7e4b11b543e',
'5401e6a9-8057-4160-9fb1-6ee93645b829',
'14900206-a496-4712-b539-e1a6d7335bf0',
'56579855-943c-4f95-9569-cd7c6ba44a21',
'78c31462-a66b-4085-8a09-40493bda97ae',
'180d1648-4f37-4413-8afa-64f430f8f515',
'09b6d1c8-c19c-42c3-9b1a-a0499af812c5',
'3a966752-9248-445e-a92f-59bbb98c975c',
'369d830a-f7ab-4416-b0d3-b99d25d227ec',
'acb32a33-f49b-456b-bc5a-896d2c22523f',
'a93bd7d1-57e6-48a5-aba7-a99429fedf62',
'b0db90ab-d251-4105-bb54-cc52c80bee8f',
'2b1ea002-c113-490a-8706-e72701aca7d7',
'09326e5f-c473-4f0b-a884-071eba4a7f04',
'7e64a75b-358f-43f0-b4bf-90872d9364f9',
'7ed0906c-ebe9-4e4a-a911-c86fd7a37b27',
'b973b51e-b8c1-49b5-811f-95f42b57bc38',
'60d5260e-5bdb-4210-b983-508f2b61f472',
'e97cc147-46f2-4c01-8b3c-a91284ecb1a9',
'3a2a774e-6ad4-456b-ae8a-65c2572dd7bb',
'e7e2036b-2423-4a1a-91bf-d5d1ca4cc5c6',
'02f2e9d3-6bcd-4def-952a-85ef04ecd524',
'02db610d-f0dc-408d-b25a-d6a533b43c80',
'6fd24131-3272-4a1c-a5ef-54684c2570d3',
'8eda2586-49e1-4d57-a8fd-f32e47c8eaa1',
'e358857e-6f63-4619-9c1d-115f955af3d4',
'473bbb39-56a5-46ae-beb6-1054ca7d11ff',
'ac6cb76a-d435-4931-87e0-fdac376fb6ee',
'dd13d4ee-ec4d-4ec3-8caf-18d53e46ae53',
'b88a27b0-7c8f-4f3a-aa1f-2c95e1589a2a',
'1517e350-0acb-43f5-9556-76fa5b7e5ba8',
'57840e88-d5d7-4383-8040-b44578ad8e2c',
'2b7141c9-8538-4494-9227-9a6cfae602c5',
'76c14120-08b8-4243-baf7-0dc1de9a3d16',
'4e95154c-743e-4079-9b11-39a8d212e0a6',
'9dd532cf-db6b-4e2c-917a-731e960e8668',
'824eb30c-2ae5-41f8-98a4-d1073e419f32',
'0456aed5-8131-4fd2-bc04-83df12b02418',
'0fbe3dd4-91de-4fa4-84f7-238f05a2760b',
'945109fa-22e1-47b2-858e-e0245f407285',
'8496c779-8d02-43c0-87ec-d171c63893ac',
'd5f2abe4-6e4e-4b6f-8c7a-713d9a46a040',
'ee5b2bb7-50a9-409b-b1bf-cf4eece050a6',
'74494dbd-17c0-4f69-9d86-7a7db6f90828',
'8a009d42-892b-483d-9dc2-be857edd0386',
'd5507ba5-3e84-4145-8503-3a801f19fbf0',
'c81f3de5-e99a-47a9-8074-d528ad8c7e66',
'd71f1428-0053-4232-9588-580aa67be125',
'bf59ff80-4d59-4fbc-8781-1f212bcbb860',
'9bf50fb4-cfd5-4e1b-8446-894367a9cf8e',
'13e582f6-aae2-46c9-b4d3-37f01c297fe0',
'b17e90f2-f519-4221-b39e-826232822702',
'03239572-3148-4a93-8809-50b253be1f6f',
'5a4d3a3d-07cf-47d2-ae18-b70f30c1f9e4',
'd6ddbece-e155-4990-b60e-6bba373e4d62',
'f7fb98f0-0507-44d9-9632-39a38f8b2079',
'ced07697-354f-42e1-8ade-85e410b2b872',
'e203688b-8a87-463b-ae71-26a3ec2ecc7d',
'5cc0619f-30d6-476b-9393-280ab840cae5',
'eaf392ba-c60d-460d-9674-6e14e4d84913',
'391a029d-3433-4f02-b3dd-92703b3fc150',
'aed1c8d1-b478-4365-8ab4-eddd23256e67',
'05e6d184-e403-42ea-9294-c867038ca87c',
'494df316-e803-4a53-907f-af617e8e92ff',
'610462b0-3d47-4ecc-b50a-1730159e11ff',
'7b4d85bb-9275-4e7f-9c2f-c20fbc62ca40',
'a4a394d1-7aba-4fc8-9a2e-3bfd2b4e797c',
'00b6d297-7a54-411c-a1a0-0c1a7b58e8d6',
'7ef895e3-be73-4b04-94d1-9276d1131bfd',
'ecad68da-6d65-4d2e-b4e2-2bb86ba1754c',
'451c90bb-5379-4085-818d-3962284a8dc7',
'71c7c584-7c85-499b-933e-3def774b3f80',
'9ec866e8-aac4-48f6-9c56-8042be1e60b3',
'06f23987-d783-47f9-aa6a-f831c8e45547',
'5aa0c03e-16e3-49ad-b537-50d4ee959005',
'717b9c95-17dc-46d2-83ca-860c55c1aa99',
'fb1609b6-4091-47a8-9b06-ab9bc549567a',
'7f6d734c-0ad7-49b3-bcff-3e6b9cba1552',
'770ffabd-6242-4907-ba18-55ab004a94d9',
'571fd8ab-ccff-4e85-9ab3-7f9097861fd7',
'3228ead2-e0b8-4a90-ac0b-d9b682021893',
'b79f20ff-d961-466e-9c50-b7879adfb377',
'76efd3c1-dbd0-4f87-acbc-351c31112d4e',
'c62ca21d-d391-475a-b14f-c05cf2ce5846',
'6ed78414-f07c-412d-991a-6eb12c694ef6',
'bb5bf0cc-4d3e-4842-8c43-b941e7e51758',
'd96dd1b3-36a2-4920-b61b-96c62c0b4463',
'9c65691f-1377-4369-b9ff-97a84ff62253',
'9a994dfc-93af-49ab-ace7-940a53e7e6c0',
'7155eb9f-21a3-4498-a13c-454a8d4644e4',
'd129dc6a-e470-4141-9f22-c490961993b9',
'e3216738-d156-47f1-9a33-e365ba4fd302',
'1d66ad7a-993e-4bd9-abab-bfec2621a8d4',
'4520722c-7e60-4756-82f3-d5e6d2f7be80',
'56721098-666b-4990-b127-1bdbac607c35',
]

userIdList = [
'2336916631570',
'2336928960540',
'2336935907361',
'2336937914406',
'2336939249713',
'2336940716068',
'2336943657002',
'2336944934966',
'2336946655266',
'2336995487779',
'2336997289997',
'2336999338047',
'2337000599575',
'2337001607198',
'2337002639429',
'2337005326393',
'2337006825541',
'2337008414744',
'2337009356830',
'2337010421810',
'2337011781686',
'2337012805692',
'2337014329353',
'2337015451716',
'2337017040950',
'2337018032141',
'2337020809250',
'2337022201915',
'2337023201296',
'2337024348199',
'2337625886731',
'2337629401106',
'2337630359605',
'2337631727658',
'2337635749936',
'2337636954160',
'2337638920227',
'2337639845917',
'2337640960020',
'2337650569250',
'2337651691564',
'2337652903994',
'2337655640073',
'2337656967202',
'2337658425386',
'2337659326488',
'2337660211203',
'2337661112351',
'2337689415715',
'2337693478960',
'2337694396479',
'2337695215645',
'2337696452653',
'2337697509414',
'2337698910221',
'2337699852340',
'2337700753466',
'2337701785635',
'2337703489554',
'2337704472636',
'2337706561548',
'2337708838925',
'2337710542852',
'2337711525922',
'2337713000489',
'2337714417684',
'2337715302452',
'2337716334617',
'2337717301296',
'2337719234598',
'2337720610833',
'2337721880601',
'2337722830851',
'2337725460515',
'2337726681136',
'2337727868951',
'2337729327167',
'2337730359305',
'2337731678242',
'2338408722486',
'2338413604897',
'2338414743557',
'2338416119887',
'2338417881126',
'2338420125748',
'2338422665246',
'2338423492672',
'2338424565817',
'2338425344063',
'2338438492174',
'2338439319613',
'2338440155180',
'2338441465871',
'2338442309680',
'2338447478806',
'2338448527384',
'2338449936424',
'2338452885530',
'2339713593391',
'2339716239391',
'2339717558321',
'2339718639622',
'2339719647269',
'2339720990732',
'2339721965612',
'2339722997791',
'2339724120099',
'2339725037581',
'2339730444345',
'2339731501109',
'2339732459539',
'2339733835791',
'2339739201538',
'2339739955208',
'2339740979216',
'2339742068759',
'2339743428621',
'2339745280019',
'2339763916858',
'2339764727843',
'2339766284322',
'2339767259202',
'2339768078371',
'2339769176115',
'2339770118159',
'2339770978316',
'2339771764780',
'2339774164999',
'2339776696376',
'2339777646606',
'2339778539565',
'2339779309589',
'2339780136972',
'2339780923401',
'2339781734410',
'2339783626811',
'2339790909505',
'2339792228415',
'2339792990255',
'2339794079799',
'2339794882598',
'2339795914778',
'2339796668458',
'2339797479468',
'2339798347778',
'2339799076896',
'2339799814160',
'2339800829965',
'2341295493164',
'2341299367971',
'2341300449336',
'2341301653565',
'2341302947854',
'2341304242208',
'2341306077190',
'2341308928049',
'2341310296109',
'2341311926306',
'2341318185010',
'2341325606915',
'2341327482902',
'2341329055761',
'2341330358326',
'2341332160545',
'2341333233668',
'2341334077484',
'2341334888483',
'2341336371250',
'2341337190454',
'2341337911321',
'2341338861598',
'2341341671448',
'2341744037933',
'2341770719287',
'2341804773428',
'2341808025623',
'2341808984077',
'2341816078354',
'2341817077824',
'2341817995275',
'2341818896435',
'2341819854858',
'2341820821551',
'2341821886511',
'2341823434801',
'2341824499735',
'2341825335357',
'2341826482207',
'2341827661851',
'2341828866087',
'2341831143435',
'2341838901283',
'2341840269362',
'2341854695466',
'2341859291148',
'2341861036051',
'2341863886898',
'2341321961538',
]
shareURL = 'https://live.hongdoulive.com/flight?showshare=1'
cheerUpURL = 'https://live.hongdoulive.com/flight/cheerUp'
showDataURL = 'https://live.hongdoulive.com/flight/showData'
acceptPrizeURL = 'https://live.hongdoulive.com/flight/acceptPrize?name=&phone=&address=&height='
helpCheerUpURL = 'https://live.hongdoulive.com/flight/helpCheerUp?helpUid='
ua = 'os=6.0&imei=null&m=mi+6x&s=2160x1080&c=2&vc=138&vn=4.6.0&n=hrs&cn=11&cm=00&rid='
commHeader = {'request-page': 'Android_MemberRightsFragment', 'ua': '', '_c':'2', 'Connection': 'keep-alive', 'Accept': '*/*', 'x-auth-token': '', 'requestId': '', 'Content-Type': 'application/x-www-form-urlencoded', 'Host': 'hongrenshuo.com.cn', 'Accept-Encoding': 'gzip', 'User-Agent': 'okhttp/${project.version}'}

HTMLHeader = {
'Host': 'live.hongdoulive.com', 
'Connection': 'keep-alive', 
'Accept': 'application/json, text/plain, */*', 
'User-Agent': 'Mozilla/5.0 (Linux; Android 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/39.0.0.0 Mobile Safari/537.36/hongdoulive/os=5.1&imei=null&m=Mi+Note+2&s=1080x1920&c=2&vc=138&vn=4.6.0&n=hrs&cn=11&cm=00', 
'Accept-Encoding': 'gzip, deflate', 
'Accept-Language': 'zh-CN,en-US;q=0.8', 
'X-Requested-With': 'com.uxin.live', 
}

for xAuthToken, userId in zip(xAuthTokenList, userIdList) :
  rid = requestId(); Header = {'ua': ua + rid, 'x-auth-token': xAuthToken, 'requestId': rid}
  try:
    JSON = json.loads(requests.get('https://hongrenshuo.com.cn/api/v138/personal/homepage/queryUserInfo?uid=' + userId + '&sign=' + createSign('uid=' + userId), headers = {**commHeader, **Header}).text)
    nickname = JSON['b']['userResp']['nickname']
  except Exception as e :
    print('获取红豆或昵称失败', JSON); continue

  response = requests.post('https://hongrenshuo.com.cn/api/v138/user/privilege/sign', headers = {**commHeader, **{'uid': userId, 'x-auth-token': xAuthToken}}).text
  print(nickname, xAuthToken, response)